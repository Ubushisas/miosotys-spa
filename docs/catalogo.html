<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Catálogo - Myosotis Spa</title>
    <link rel="icon" type="image/png" href="./favicon.png">
    <!-- Preconnect for faster font loading -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="stylesheet" href="styles.css?v=4" />
    <style>
      /* Navigation buttons in first card (Nuestros Servicios) - 3 columns */
      .sticky-card:first-child .sticky-card-copy-description {
        height: auto !important;
        max-height: none !important;
        overflow: visible !important;
        padding-left: 0 !important;
        text-align: center !important;
        margin: 0 auto !important;
      }

      .service-buttons-grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        row-gap: 1.5rem;
        column-gap: 0.1rem;
        width: 100%;
        max-width: 650px;
        margin: 0 auto;
      }

      /* FORCE cards 2-7 to match Eventos Especiales - HIGH SPECIFICITY */
      .sticky-cards-container .sticky-card:nth-child(2) .sticky-card-copy-description,
      .sticky-cards-container .sticky-card:nth-child(3) .sticky-card-copy-description,
      .sticky-cards-container .sticky-card:nth-child(4) .sticky-card-copy-description,
      .sticky-cards-container .sticky-card:nth-child(5) .sticky-card-copy-description,
      .sticky-cards-container .sticky-card:nth-child(6) .sticky-card-copy-description,
      .sticky-cards-container .sticky-card:nth-child(7) .sticky-card-copy-description {
        display: block !important;
        grid-template-columns: none !important;
        width: 600px !important;
        max-width: 600px !important;
      }

      /* Force paragraph to be 600px wide */
      .sticky-cards-container .sticky-card:nth-child(2) .sticky-card-copy-description p,
      .sticky-cards-container .sticky-card:nth-child(3) .sticky-card-copy-description p,
      .sticky-cards-container .sticky-card:nth-child(4) .sticky-card-copy-description p,
      .sticky-cards-container .sticky-card:nth-child(5) .sticky-card-copy-description p,
      .sticky-cards-container .sticky-card:nth-child(6) .sticky-card-copy-description p,
      .sticky-cards-container .sticky-card:nth-child(7) .sticky-card-copy-description p {
        width: 600px !important;
        max-width: 100% !important;
        margin: 0px 0px 16px !important;
      }
      .sticky-card:first-child .sticky-card-button {
        opacity: 1 !important;
        display: flex !important;
        justify-content: center !important;
        width: 100% !important;
      }
      .sticky-card:first-child .sticky-card-button button {
        opacity: 1 !important;
        display: inline-block !important;
        width: auto !important;
        white-space: nowrap !important;
        animation: none !important;
      }

      /* Don't override anything for service cards - let them use default CSS like Eventos Especiales does */

      /* Fix "Ver paquetes" buttons to fit content and remove animations */
      .sticky-card-button button {
        width: auto !important;
        display: inline-block !important;
        animation: none !important;
      }

      /* Custom cursor - DISABLED */
      * {
        cursor: auto !important;
      }
      #customCursor {
        display: none !important;
      }

      /* MOBILE FIXES */
      @media (max-width: 768px) {
        /* Fix service buttons grid on mobile - 2 columns */
        .service-buttons-grid {
          grid-template-columns: repeat(2, 1fr) !important;
          gap: 0.75rem !important;
          max-width: 100% !important;
          padding: 0 1rem !important;
        }

        .sticky-card:first-child .sticky-card-copy-description {
          padding: 0 1rem !important;
        }

        .sticky-card:first-child .sticky-card-button {
          width: 100% !important;
          max-width: 170px !important;
          margin: 0 !important;
        }

        .sticky-card:first-child .sticky-card-button button {
          font-size: 0.85rem !important;
          padding: 10px 12px !important;
          white-space: nowrap !important;
          line-height: 1.2 !important;
          min-height: 48px !important;
          width: 100% !important;
        }

        /* Fix text description padding on mobile - consistent size for all cards */
        .sticky-card-copy-description p {
          padding: 0 !important;
          max-width: 75% !important;
          margin: 0 auto !important;
          text-align: center !important;
        }

        /* Override inline styles for service cards on mobile */
        .sticky-card .sticky-card-copy-description {
          width: 100% !important;
          max-width: 100% !important;
          padding: 0 !important;
          display: flex !important;
          justify-content: center !important;
          align-items: center !important;
        }

        /* Center Ver paquetes button in the gap between description and arrows */
        .sticky-card:not(:first-child) .sticky-card-button {
          margin-top: 10px !important;
          margin-bottom: 10px !important;
        }

        /* Fix "Ver paquetes" window - adjust position */
        #packageWindow .package-window-content {
          padding-top: 0 !important;
          margin-top: -22px !important;
        }

        #packageWindow .package-window-header {
          padding-top: 1rem !important;
        }

        /* Ensure "Agendar" iframe window works on mobile - CENTER THE IFRAME */
        #calendlyWindow {
          width: 100vw !important;
          height: 100vh !important;
          right: -100vw !important;
        }

        #calendlyWindow.active {
          right: 0 !important;
        }

        #calendlyWindow .package-window-body {
          padding: 0.5rem 0 !important;
          padding-top: 0 !important;
          overflow-y: auto !important;
          display: flex !important;
          justify-content: center !important;
          align-items: flex-start !important;
        }

        #calendlyWindow .package-window-header {
          margin-bottom: -40px !important;
          z-index: 1000 !important;
          position: relative !important;
        }

        #calendlyWindow #calendlyContent {
          width: 100% !important;
          max-width: 100% !important;
          margin: 0 auto !important;
          padding: 0 !important;
          transform: translateY(-5px) !important;
        }

        #calendlyWindow iframe {
          width: 100% !important;
          height: 100% !important;
          min-height: 600px !important;
          margin: 0 auto !important;
          display: block !important;
          transform: translateX(-30px) translateY(35px) !important;
          overflow: hidden !important;
        }

        /* Prevent double scrollbar on mobile - hide iframe internal scrollbar */
        body {
          overflow-x: hidden !important;
        }

        #calendlyWindow.active {
          overflow-y: auto !important;
        }
      }

      @media (max-width: 480px) {
        /* Text descriptions - consistent with tablets */
        .sticky-card-copy-description p {
          padding: 0 !important;
          max-width: 75% !important;
          margin: 0 auto !important;
        }

        .sticky-card .sticky-card-copy-description {
          padding: 0 !important;
        }

        .sticky-card:first-child .sticky-card-copy-description {
          padding: 0 0.5rem !important;
          gap: 0.5rem !important;
        }

        .sticky-card:first-child .sticky-card-button {
          max-width: 155px !important;
        }

        .sticky-card:first-child .sticky-card-button:nth-child(7) {
          max-width: 155px !important;
        }

        .sticky-card:first-child .sticky-card-button:nth-child(7) button {
          font-size: 0.75rem !important;
          padding: 10px 6px !important;
        }
      }
    </style>
  </head>
  <body>
    <!-- Custom Cursor -->
    <div id="customCursor">
      <img src="./Test_Images/Flor-mouse.png" alt="Custom Cursor" />
    </div>

    <!-- Background Music -->
    <audio id="backgroundMusic" loop>
      <source src="./Assets/4) Myosotis_compressed.mp3" type="audio/mpeg">
      Your browser does not support the audio element.
    </audio>

    <!-- Catalogue Section -->
    <div class="catalogue-section">
      <nav>
        <div class="logo">
          <img src="./Test_Images/Myosotis-by-monica-blanco-opt.png" alt="Myosotis Logo" onclick="goBackToCatalog()" style="cursor: pointer; background: none !important;" />
        </div>
        <div class="nav-items">
          <p onclick="goBackToCatalog()">Inicio</p>
        </div>
      </nav>

      <div class="sticky-cards-container">
        <!-- Card 0 - Servicios Disponibles (Intro) -->
        <div class="sticky-card">
          <div class="sticky-card-content">
            <div class="sticky-card-content-wrapper">
              <div class="sticky-card-img">
                <img src="./Test_Images/Test2/Intro.jpg" alt="Myosotis Spa Servicios" />
              </div>
              <div class="sticky-card-copy">
                <h1 class="sticky-card-header">Nuestros Servicios</h1>
                <div class="sticky-card-copy-description" style="text-align: center; padding-left: 0; display: flex; flex-direction: column; gap: 1rem; max-width: 800px; align-items: center; margin: 0 auto; height: auto; max-height: none; overflow: visible;">
                  <div class="service-buttons-grid">
                    <div class="sticky-card-button">
                      <button onclick="scrollToNextCard(1)">Spa Individual</button>
                    </div>
                    <div class="sticky-card-button">
                      <button onclick="scrollToNextCard(2)">Spa para Parejas</button>
                    </div>
                    <div class="sticky-card-button">
                      <button onclick="scrollToNextCard(3)">Spa para Amigas</button>
                    </div>
                    <div class="sticky-card-button">
                      <button onclick="scrollToNextCard(4)">Spa para Niñas</button>
                    </div>
                    <div class="sticky-card-button">
                      <button onclick="scrollToNextCard(5)">Spa para Familias</button>
                    </div>
                    <div class="sticky-card-button">
                      <button onclick="scrollToNextCard(7)">Eventos Especiales</button>
                    </div>
                  </div>
                </div>
                <div class="scroll-arrow" onclick="scrollToNextCard(1)" style="margin-top: 1.5rem;">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <polyline points="6 9 12 15 18 9"></polyline>
                  </svg>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Card 1 - Spa Individual -->
        <div class="sticky-card">
          <div class="sticky-card-content">
            <div class="sticky-card-content-wrapper">
              <div class="sticky-card-img">
                <img src="./Test_Images/Test2/Individual.jpg?v=2" alt="Spa Individual" loading="lazy" />
              </div>
              <div class="sticky-card-copy">
                <h1 class="sticky-card-header">Spa Individual</h1>
                <div class="sticky-card-copy-title">
                  <p>(Experiencia Personal)</p>
                </div>
                <div class="sticky-card-copy-description" style="width: 600px; max-width: 600px; display: block; margin: 0 auto;">
                  <p style="width: 600px; max-width: 100%; text-align: center; margin: 0;">Tratamientos personalizados para tu bienestar individual en un oasis de tranquilidad y renovación.</p>
                </div>
                <div class="sticky-card-button" style="margin: 25px 0 25px 0 !important;">
                  <button onclick="showPackages(1)">Ver paquetes</button>
                </div>
                <div class="scroll-arrows-container" style="margin-top: -15px !important;">
                  <div class="scroll-arrow scroll-arrow-up" onclick="scrollToPrevCard(0)">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <polyline points="18 15 12 9 6 15"></polyline>
                    </svg>
                  </div>
                  <div class="scroll-arrow scroll-arrow-down" onclick="scrollToNextCard(2)">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <polyline points="6 9 12 15 18 9"></polyline>
                    </svg>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Card 2 - Spa para Parejas -->
        <div class="sticky-card">
          <div class="sticky-card-content">
            <div class="sticky-card-content-wrapper">
              <div class="sticky-card-img">
                <img src="./Test_Images/Test2/Couples.jpg" alt="Spa para Parejas" loading="lazy" />
              </div>
              <div class="sticky-card-copy">
                <h1 class="sticky-card-header">Spa para Parejas</h1>
                <div class="sticky-card-copy-title">
                  <p>(Conexión Romántica)</p>
                </div>
                <div class="sticky-card-copy-description" style="width: 600px; max-width: 600px; display: block; margin: 0 auto;">
                  <p style="width: 600px; max-width: 100%; text-align: center; margin: 0;">Fortalece tu vínculo con tratamientos íntimos y relajantes diseñados para reconectar en un ambiente romántico.</p>
                </div>
                <div class="sticky-card-button" style="margin: 25px 0 25px 0 !important;">
                  <button onclick="showPackages(2)">Ver paquetes</button>
                </div>
                <div class="scroll-arrows-container" style="margin-top: -15px !important;">
                  <div class="scroll-arrow scroll-arrow-up" onclick="scrollToPrevCard(1)">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <polyline points="18 15 12 9 6 15"></polyline>
                    </svg>
                  </div>
                  <div class="scroll-arrow scroll-arrow-down" onclick="scrollToNextCard(3)">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <polyline points="6 9 12 15 18 9"></polyline>
                    </svg>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Card 3 - Spa para Amigas -->
        <div class="sticky-card">
          <div class="sticky-card-content">
            <div class="sticky-card-content-wrapper">
              <div class="sticky-card-img">
                <img src="./Test_Images/Test2/Friends.jpg?v=2" alt="Spa para Amigas" loading="lazy" />
              </div>
              <div class="sticky-card-copy">
                <h1 class="sticky-card-header">Spa para Amigas</h1>
                <div class="sticky-card-copy-title">
                  <p>(Celebración de Amistad)</p>
                </div>
                <div class="sticky-card-copy-description" style="width: 600px; max-width: 600px; display: block; margin: 0 auto;">
                  <p style="width: 600px; max-width: 100%; text-align: center; margin: 0;">Celebra la amistad con tratamientos grupales llenos de diversión y relajación en un ambiente exclusivo.</p>
                </div>
                <div class="sticky-card-button" style="margin: 25px 0 25px 0 !important;">
                  <button onclick="showPackages(3)">Ver paquetes</button>
                </div>
                <div class="scroll-arrows-container" style="margin-top: -15px !important;">
                  <div class="scroll-arrow scroll-arrow-up" onclick="scrollToPrevCard(2)">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <polyline points="18 15 12 9 6 15"></polyline>
                    </svg>
                  </div>
                  <div class="scroll-arrow scroll-arrow-down" onclick="scrollToNextCard(4)">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <polyline points="6 9 12 15 18 9"></polyline>
                    </svg>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Card 4 - Spa para Niñas -->
        <div class="sticky-card">
          <div class="sticky-card-content">
            <div class="sticky-card-content-wrapper">
              <div class="sticky-card-img">
                <img src="./Test_Images/Test2/Kids.jpg" alt="Spa para Niñas" loading="lazy" />
              </div>
              <div class="sticky-card-copy">
                <h1 class="sticky-card-header">Spa para Niñas</h1>
                <div class="sticky-card-copy-title">
                  <p>(Diversión y Cuidado)</p>
                </div>
                <div class="sticky-card-copy-description" style="width: 600px; max-width: 600px; display: block; margin: 0 auto;">
                  <p style="width: 600px; max-width: 100%; text-align: center; margin: 0;">Experiencias mágicas y seguras donde las niñas disfrutan tratamientos divertidos sintiéndose como princesas.</p>
                </div>
                <div class="sticky-card-button" style="margin: 25px 0 25px 0 !important;">
                  <button onclick="showPackages(4)">Ver paquetes</button>
                </div>
                <div class="scroll-arrows-container" style="margin-top: -15px !important;">
                  <div class="scroll-arrow scroll-arrow-up" onclick="scrollToPrevCard(3)">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <polyline points="18 15 12 9 6 15"></polyline>
                    </svg>
                  </div>
                  <div class="scroll-arrow scroll-arrow-down" onclick="scrollToNextCard(5)">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <polyline points="6 9 12 15 18 9"></polyline>
                    </svg>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Card 5 - Spa para Familias -->
        <div class="sticky-card">
          <div class="sticky-card-content">
            <div class="sticky-card-content-wrapper">
              <div class="sticky-card-img">
                <img src="./Test_Images/Test2/Family.jpg" alt="Spa para Familias" loading="lazy" />
              </div>
              <div class="sticky-card-copy">
                <h1 class="sticky-card-header">Spa para Familias</h1>
                <div class="sticky-card-copy-title">
                  <p>(Unión Familiar)</p>
                </div>
                <div class="sticky-card-copy-description" style="width: 600px; max-width: 600px; display: block; margin: 0 auto;">
                  <p style="width: 600px; max-width: 100%; text-align: center; margin: 0;">Crea recuerdos inolvidables con experiencias adaptadas para todas las edades en un ambiente familiar acogedor.</p>
                </div>
                <div class="sticky-card-button" style="margin: 25px 0 25px 0 !important;">
                  <button onclick="showPackages(5)">Ver paquetes</button>
                </div>
                <div class="scroll-arrows-container" style="margin-top: -15px !important;">
                  <div class="scroll-arrow scroll-arrow-up" onclick="scrollToPrevCard(4)">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <polyline points="18 15 12 9 6 15"></polyline>
                    </svg>
                  </div>
                  <div class="scroll-arrow scroll-arrow-down" onclick="scrollToNextCard(7)">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <polyline points="6 9 12 15 18 9"></polyline>
                    </svg>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Card 6 - Spa Luxury - HIDDEN -->
        <div class="sticky-card" style="display: none;">
          <div class="sticky-card-content">
            <div class="sticky-card-content-wrapper">
              <div class="sticky-card-img">
                <img src="./Test_Images/Test2/Luxury.jpg" alt="Spa Luxury" loading="lazy" />
              </div>
              <div class="sticky-card-copy">
                <h1 class="sticky-card-header">Spa Luxury</h1>
                <div class="sticky-card-copy-title">
                  <p>(Experiencia Premium)</p>
                </div>
                <div class="sticky-card-copy-description" style="width: 600px; max-width: 600px; display: block; margin: 0 auto;">
                  <p style="width: 600px; max-width: 100%; text-align: center; margin: 0;">Máximo lujo y sofisticación con servicios VIP, productos premium y atención personalizada exclusiva.</p>
                </div>
                <div class="sticky-card-button" style="margin: 25px 0 25px 0 !important;">
                  <button onclick="showPackages(6)">Ver paquetes</button>
                </div>
                <div class="scroll-arrows-container" style="margin-top: -15px !important;">
                  <div class="scroll-arrow scroll-arrow-up" onclick="scrollToPrevCard(5)">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <polyline points="18 15 12 9 6 15"></polyline>
                    </svg>
                  </div>
                  <div class="scroll-arrow scroll-arrow-down" onclick="scrollToNextCard(7)">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <polyline points="6 9 12 15 18 9"></polyline>
                    </svg>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Card 7 - Eventos Especiales -->
        <div class="sticky-card">
          <div class="sticky-card-content">
            <div class="sticky-card-content-wrapper">
              <div class="sticky-card-img">
                <img src="./Test_Images/Test2/SpecialEvents.jpg" alt="Eventos Especiales" loading="lazy" />
              </div>
              <div class="sticky-card-copy">
                <h1 class="sticky-card-header">Eventos Especiales</h1>
                <div class="sticky-card-copy-title">
                  <p>(Celebraciones Únicas)</p>
                </div>
                <div class="sticky-card-copy-description">
                  <p>Eventos memorables con servicios personalizados para despedidas, celebraciones corporativas y ocasiones especiales únicas.</p>
                </div>
                <div class="sticky-card-button" style="margin: 25px 0 25px 0 !important;">
                  <button onclick="showPackages(7)">Ver paquetes</button>
                </div>
                <div class="scroll-arrows-container" style="margin-top: -15px !important;">
                  <div class="scroll-arrow scroll-arrow-up" onclick="scrollToPrevCard(5)">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <polyline points="18 15 12 9 6 15"></polyline>
                    </svg>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Sliding Package Window -->
    <div id="packageWindow" class="package-window">
      <div class="package-window-content">
        <div class="package-window-header">
          <h2 id="packageTitle">Paquetes Disponibles</h2>
          <button class="close-btn" onclick="hidePackages()">&times;</button>
        </div>
        <div class="package-window-body">
          <div id="packageContent">
            <!-- Package content will be loaded here -->
          </div>
        </div>
      </div>
    </div>

    <!-- Calendly Sliding Window -->
    <div id="calendlyWindow" class="package-window">
      <div class="package-window-content">
        <div class="package-window-header">
          <h2>Agendar Limpieza Facial</h2>
          <button class="close-btn" onclick="hideCalendly()">&times;</button>
        </div>
        <div class="package-window-body">
          <div id="calendlyContent">
            <!-- Calendly widget will be inserted here -->
          </div>
        </div>
      </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>
    <script src="//widget.simplybook.me/v2/widget/widget.js"></script>
    <script>
      // Smooth Fade Animation Function (same as info.html)
      function slideOutIn() {
        document.documentElement.animate(
          [
            {
              opacity: 1,
              transform: "translateY(0)",
            },
            {
              opacity: 0.6,
              transform: "translateY(15%)",
            },
          ],
          {
            duration: 2000,
            easing: "cubic-bezier(0.25, 0.46, 0.45, 0.94)",
            fill: "forwards",
            pseudoElement: "::view-transition-old(root)",
          }
        );

        document.documentElement.animate(
          [
            {
              clipPath: "polygon(0% 0%, 100% 0%, 100% 0%, 0% 0%)",
            },
            {
              clipPath: "polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%)",
            },
          ],
          {
            duration: 2000,
            easing: "cubic-bezier(0.25, 0.46, 0.45, 0.94)",
            fill: "forwards",
            pseudoElement: "::view-transition-new(root)",
          }
        );
      }

      function goBackToCatalog() {
        // Save music position before navigation
        const backgroundMusic = document.getElementById('backgroundMusic');
        if (backgroundMusic && !backgroundMusic.paused) {
          localStorage.setItem('musicTime', backgroundMusic.currentTime);
        }
        window.location.href = 'index.html';
      }

      // Store original card positions (will be set on page load)
      let cardPositions = [];

      // Scroll to next card function
      function scrollToNextCard(targetCardIndex) {
        if (cardPositions[targetCardIndex] !== undefined) {
          window.scrollTo({
            top: cardPositions[targetCardIndex],
            behavior: 'smooth'
          });
        }
      }

      // Scroll to previous card function
      function scrollToPrevCard(targetCardIndex) {
        if (cardPositions[targetCardIndex] !== undefined) {
          window.scrollTo({
            top: cardPositions[targetCardIndex],
            behavior: 'smooth'
          });
        }
      }

      // Package data for each service
      const packageData = {
        1: { // Spa Individual
          title: "Spa Individual - Paquetes",
          packages: [
            {
              name: "Limpieza Facial Básica",
              description: "Permítenos consentirte con un tratamiento facial sencillo pero revitalizante diseñado para refrescar y nutrir tu piel.<br><br><strong>Incluye:</strong><br>• Una exfoliación suave para eliminar las células muertas y preparar la piel para esta experiencia.<br>• Disfruta de una mascarilla personalizada que se aplica para nutrir e hidratar tu piel, adaptada siempre a tu necesidad.<br>• Déjanos ayudarte a lograr una piel hermosa y radiante.<br><br>Reserva tu cita en Myosotis Spa hoy mismo y dale a tu piel el cuidado que se merece!",
              duration: "1 hora / 60 minutos",
              price: "$90.000"
            },
            {
              name: "Limpieza Facial Completa",
              description: "Date un capricho con nuestro tratamiento facial diseñado para rejuvenecer y renovar tu piel.<br><br><strong>Incluye:</strong><br>• Exfoliación profunda que deja tu piel tersa y fresca.<br>• Disfruta de la sensación calmante del vapor de ozono, que ayuda a abrir los poros para una limpieza exhaustiva.<br>• Extracción manual para eliminar puntos negros y otras impurezas, asegurando un cutis más limpio y radiante.<br>• Finaliza la experiencia con un hidratante para asegurar una piel saludable y luminosa.",
              duration: "1 hora 20 minutos / 80 minutos",
              price: "$120.000"
            },
            {
              name: "Limpieza Facial Elixir de la Juventud",
              description: "Revitaliza tu piel con nuestro exclusivo tratamiento facial diseñado para devolver la juventud y el brillo a tu rostro.<br><br><strong>Incluye:</strong><br>• Sumérgete en una experiencia única, donde cada paso está pensado para nutrir, iluminar y rejuvenecer tu piel.<br>• Desde la limpieza inicial que prepara tu piel para el cuidado óptimo, hasta la aplicación de activos potentes como la vitamina C, bioretinol y ácido hialurónico; este tratamiento restaura la vitalidad de tu piel.<br>• Con una combinación de productos de primera calidad y la aplicación de un eficaz protector solar, saldrás luciendo una tez visiblemente más luminosa y saludable.<br><br>Te invitamos a disfrutar de esta indulgente experiencia en Myosotis Spa y descubrir el secreto de una piel eternamente joven!",
              duration: "1 hora 40 minutos / 100 minutos",
              price: "$170.000"
            },
            {
              name: "Baño de Luna",
              description: "Descubre la magia del Baño de Luna, un tratamiento exclusivo pensado para iluminar tu piel y elevar tu bienestar.<br><br><strong>Incluye:</strong><br>• Esta experiencia comienza con una delicada exfoliación corporal que prepara tu piel para la máxima absorción de nutrientes.<br>• A continuación aplicamos hidratantes para revitalizar y suavizar tu piel.<br>• En algunos casos, incluimos tratamientos aclarantes para homogenizar el tono de la piel.<br>• El Baño de Luna es una ceremonia de cuidado que conecta el cuerpo con la naturaleza; ideal para una piel luminosa y resplandeciente.<br><br>Programa tu cita en Myosotis Spa y abraza la transformación hoy mismo.",
              duration: "1 hora 10 minutos / 70 minutos",
              price: "$140.000"
            },
            {
              name: "Exfoliación Corporal",
              description: "Sumérgete en una experiencia de renovación total.<br><br><strong>Incluye:</strong><br>• Nuestro tratamiento de exfoliación corporal utiliza cremas exfoliantes de alta calidad que eliminan suavemente las células muertas de la piel, dejando una textura notablemente más suave.<br>• Disfruta de un agradable aroma, ya sea frutal, herbal o cítrico; para una experiencia sensorial completa.<br>• Además, empleamos una manta térmica para optimizar los beneficios del tratamiento y asegurar que tu piel quede revitalizada y sedosa.",
              duration: "1 hora 20 minutos / 80 minutos",
              price: "$130.000"
            },
            {
              name: "Veloterapia",
              description: "Es una técnica de masajes que implica la aplicación de aceites herbales calientes (tibios) en todo el cuerpo.<br><br><strong>Objetivo:</strong><br>• Promover el equilibrio físico y mental a través de la nutrición, relajación y eliminación de toxinas.",
              duration: "1 hora 10 minutos / 70 minutos",
              price: "$110.000"
            },
            {
              name: "Masaje con Piedras Calientes",
              description: "Es una terapia donde se utilizan piedras calientes generalmente de basalto, con el fin de relajar los músculos y focalizar la tensión y por ende aliviar dicho dolor.<br><br><strong>Incluye:</strong><br>• Al permitir que el calor se localice en los puntos específicos, permite que el terapeuta no tenga que aplicar tanta presión en dicho punto y su calor realice una función dilatadora y vascularizante en los músculos.",
              duration: "1 hora 10 minutos / 70 minutos",
              price: "$110.000"
            }
          ]
        },
        2: { // Spa para Parejas
          title: "Spa para Parejas - Paquetes",
          packages: [
            {
              name: "Romántico Oasis para Dos",
              description: "Escápate junto a tu pareja a nuestro refugio romántico pensado para renovar la conexión y el amor.<br><br><strong>Incluye:</strong><br>• Un masaje en pareja con aceites esenciales de rosas y lavanda, para relajar y estimular los sentidos.<br>• Tiempo privado en nuestro jacuzzi con pétalos flotantes y velas aromáticas, creando un ambiente perfecto para una velada íntima.<br>• Una tabla de quesos, acompañada de una copa de vino espumoso para brindar por el amor.",
              duration: "2 horas 45 minutos / 165 min",
              price: "$470.000 por pareja"
            },
            {
              name: "Retiro de Reconciliación para Dos",
              description: "Fortalece tus lazos y reconecta con tu pareja en un ambiente de paz y tranquilidad.<br><br><strong>Incluye:</strong><br>• Una copa de Vino para iniciar la sesión y desinhibirse un poco.<br>• Un masaje en pareja diseñado para aliviar el estrés y las tensiones, promoviendo la calma y la comunicación abierta.<br>• Una sesión de juego creativo, en la cual las parejas pueden aplicarse chocolate el uno al otro, creando patrones o mensajes sobre la piel y disfrutando momentos de alegría compartida.<br>• Una sesión de hidroterapia y aromaterapia para disfrutar de momentos de conexión y relajación.<br>• Bebida Fría con/sin alcohol, Tabla de Quesos y chocolates gourmet para completar la experiencia romántica.",
              duration: "3 horas 15 minutos / 195 min",
              price: "$540.000 por pareja"
            },
            {
              name: "Paquete de Aniversario",
              description: "Celebra tu aniversario con una experiencia de relajación total.<br><br><strong>Incluye:</strong><br>• Masajes en pareja.<br>• Tratamientos faciales rejuvenecedores.<br>• Una tabla de queso con una bebida con o sin alcohol al final de la experiencia.",
              duration: "2 horas / 120 min",
              price: "$400.000 por pareja"
            }
          ]
        },
        3: { // Spa para Amigas
          title: "Spa para Amigas - Paquetes",
          packages: [
            {
              name: "Tarde de Chicas",
              description: "Disfruta de un retiro fascinante con tus amigas en un ambiente de lujo y confort.<br><br><strong>Incluye:</strong><br>• Un masaje de cuerpo completo utilizando aceites esenciales con propiedades aromáticas seleccionadas para relajar y revitalizar tus sentidos.<br>• Un masaje facial e hidratación con velo para dar un brillo natural a tu piel.<br>• Una sesión de jacuzzi con sales minerales orgánicas para una experiencia de bienestar.<br>• Acceso a nuestro sauna y turco para purificar y rejuvenecer el cuerpo.<br>• Un snack saludable acompañado de una bebida refrescante para finalizar tu experiencia.",
              duration: "3 horas / 180 min",
              price: "1 persona → $240.000<br>2 personas → $480.000<br>3 personas → $720.000<br>4 personas → $930.000<br>5 personas → $1.200.000<br>6 personas → $1.368.000"
            },
            {
              name: "Pasabordo Rápido de Desestrés",
              description: "Para cambiar de rutina y aliviar el estrés del día a día.<br><br><strong>Incluye:</strong><br>• Escápate un ratito para brindarte un hidromasaje que destensione tu cuerpo.<br>• Masaje relajante corporal para aliviar la tensión localizada en los músculos.<br><br>¡Una forma perfecta de recargar energías!",
              duration: "1 hora 20 minutos / 80 min",
              price: "1 persona → $130.000<br>2 personas → $260.000<br>3 personas → $390.000<br>4 personas → $504.000<br>5 personas → $650.000<br>6 personas → $740.000"
            },
            {
              name: "Experiencia de Renovación Corporal",
              description: "Si te sientes cansado, regálate una experiencia completa de rejuvenecimiento.<br><br><strong>Incluye:</strong><br>• Ingreso al Turco, donde eliminarás toxinas, relajarás los músculos, reducirás el estrés y mejorarás tus vías respiratorias.<br>• Continúa la experiencia de spa con un baño sereno en el jacuzzi: siente las suaves burbujas y el agua tibia, la cual relaja el cuerpo y la mente.<br>• Masaje facial que incluye preparación de la piel, seguido de técnicas manuales.<br>• Masaje relajante de cuerpo completo con aceites aromáticos adaptado a tu preferencia.<br>• Al terminar la sesión te espera un té de hierbas, permitiéndote regresar activamente a tu día con energía renovada.",
              duration: "2 horas 20 minutos / 140 min",
              price: "1 persona → $210.000<br>2 personas → $420.000<br>3 personas → $630.000<br>4 personas → $815.000<br>5 personas → $1.050.000<br>6 personas → $1.190.000"
            }
          ]
        },
        4: { // Spa para Niñas
          title: "Spa para Niñas - Paquetes",
          packages: [
            {
              name: "Día de Spa para Adolescentes",
              description: "Ideal para pasar un tiempo divertido con amigas, este paquete incluye acceso a todas las instalaciones del spa, además de actividades grupales para fortalecer las amistades en un ambiente relajado.<br><br><strong>Incluye:</strong><br>• Inicia con una sesión calmante en el sauna, donde el suave calor ayuda a abrir los poros y preparar la piel para tratamientos posteriores.<br>• Continúa con el ingreso al Turco donde el vapor te envolverá con suaves esencias de hierbas naturales, permitiendo relajar los músculos.<br>• Luego pasarás por la experiencia de la Chocolaterapia; esta alternativa al chocolate permite a los adolescentes expresarse y relajarse mientras interactúan con sus amigas.<br>• Continúa con un masaje facial refrescante que incluye limpieza y una mascarilla calmante, dejando la piel luminosa, suave y fresca.<br>• Disfruta de un masaje corporal relajante que se enfoca en aliviar la tensión y promover una sensación de calma en todo el cuerpo.<br>• Pasa al jacuzzi para una sesión de pura relajación. Las cálidas y burbujeantes aguas son perfectas para sumergirse después de los masajes, y permiten conversaciones agradables y fortalecimiento de lazos.<br>• Concluye el día de SPA con una selección de snacks saludables, asegurando que todas se sientan consentidas y complacidas.<br><br>Este paquete está diseñado para que las adolescentes disfruten de una experiencia divertida y relajante en el spa, fomentando la amistad y el bienestar personal.",
              duration: "2 horas 45 minutos / 165 min",
              price: "1 persona → $240.000<br>2 personas → $480.000<br>3 personas → $720.000<br>4 personas → $910.000<br>5 personas → $1.200.000<br>6 personas → $1.370.000"
            },
            {
              name: "Aventura Spa para Preadolescentes",
              description: "Ofrece a los chicos una aventura en el spa con tratamientos adaptados a sus necesidades, como mini faciales y masajes relajantes, combinados con tiempo para divertirse en un entorno seguro.<br><br><strong>Incluye:</strong><br>• Bebida fría y Snack saludable: Comiencen la aventura con unos refrescos de frutas naturales y snacks saludables que las llenen de energía.<br>• Turco Aromático: Una sesión en el turco con vapor infundido de hierbas y esencias suaves que calma los sentidos.<br>• Continúa con diversión en el Sauna: Momentos para compartir risas y conversaciones mientras se relajan en la calidez de ese espacio.<br>• Sigue con una Exploración Sensorial: Tiempo en el Jacuzzi: Disfruten del jacuzzi, donde las burbujas y luces LED crean una atmósfera mágica para charlar y relajarse.<br>• Seguido de un Mini Facial Refrescante, el cual es un tratamiento facial suave que limpia e hidrata, dejando la piel fresca y radiante.<br>• Ya por último, Masaje Relajante en Grupo: Una sesión de masaje de espalda y hombros para aliviar cualquier tensión que tengas.<br><br>Este paquete no solo se centra en el relax, sino también en crear un entorno donde las adolescentes puedan fortalecer su conexión y disfrutar plenamente de su tiempo juntas.",
              duration: "3 horas 15 minutos / 195 min",
              price: "1 persona → $250.000<br>2 personas → $500.000<br>3 personas → $750.000<br>4 personas → $970.000<br>5 personas → $1.250.000<br>6 personas → $1.420.000"
            }
          ]
        },
        5: { // Spa para Familias
          title: "Spa Familiar - Paquetes",
          packages: [
            {
              name: "Día de Spa para Mamá e Hija",
              description: "Fortalece el vínculo entre madre e hija(s) con un día de tratamientos especiales diseñados para las dos, incluyendo masajes relajantes, tratamientos faciales y tiempo de calidad juntas en nuestras instalaciones.<br><br><strong>Incluye:</strong><br>• Comienza con una bebida de bienvenida de té de hierbas o agua refrescante con frutas para establecer el ánimo de relajación.<br>• Disfruten de masajes de cuerpo completo, diseñados para relajar los músculos y nutrir el vínculo entre madre e hija(s).<br>• Sumérjanse en nuestra tina con sales minerales calmantes y suaves burbujas, brindando el ambiente perfecto para la conversación y el vínculo.<br>• Exploren las áreas húmedas que incluyen un tranquilo baño de vapor y una sauna refrescante. Estas instalaciones ofrecen momentos para relajarse, liberar el estrés y compartir tiempo de paz juntas.<br>• Disfruten de un delicioso surtido de bocadillos saludables, junto con una variedad de bebidas revitalizantes.<br>• Despídete con un recuerdo especial para atesorar la experiencia.<br><br>Este paquete asegura tanto la relajación como el tiempo de calidad, diseñado para fortalecer las conexiones y crear recuerdos duraderos entre Mamá e Hija(s).",
              duration: "2 horas 30 minutos / 150 min",
              price: "Paquete Mamá e Hija: $380.000"
            },
            {
              name: "Día de Spa para Papá e Hijo",
              description: "Un plan pensado para que padre e hijo compartan un momento diferente, este exclusivo paquete de spa masculino combina potencia, energía y bienestar.<br><br>Finalicen con un masaje relajante que ayuda a liberar estrés y fortalecer ese vínculo único entre papá e hijo.<br><br><strong>Información del paquete:</strong><br><strong>Qué incluye:</strong><br>Disfruten juntos un recorrido renovador por nuestra zona húmeda, con sauna, turco y jacuzzi, ideal para soltar tensiones y activar el cuerpo.<br><br>Continúen con una sesión de crioterapia, donde hace partícipe el hielo perfecto para desinflamar, mejorar la circulación y dar ese impulso de vitalidad que todo hombre necesita.",
              duration: "2 horas 30 minutos / 150 min",
              price: "Paquete Papá e Hijo: $380.000"
            }
          ]
        },
        6: { // Spa Luxury
          title: "Spa Luxury - Paquetes",
          packages: [
            {
              name: "Masaje de Relajación",
              description: "Sumérgete en una experiencia de calma absoluta diseñada para aliviar el estrés y liberar la tensión acumulada.<br><br><strong>Beneficios:</strong><br>• Relajación profunda de cuerpo y mente<br>• Reducción del estrés y la ansiedad<br>• Sensación de paz y renovación total",
              duration: "1 hora",
              price: "$320.000"
            },
            {
              name: "Drenaje Linfático",
              description: "Un tratamiento especializado para desintoxicar y revitalizar el organismo de manera natural.<br><br><strong>Beneficios:</strong><br>• Estimula la circulación linfática<br>• Reduce la retención de líquidos e hinchazón<br>• Favorece la eliminación de toxinas<br>• Promueve una sensación de ligereza y bienestar",
              duration: "1 hora",
              price: "$320.000"
            },
            {
              name: "Masaje de Modelación",
              description: "Tratamiento diseñado para redefinir la silueta y realzar tu confianza.<br><br><strong>Beneficios:</strong><br>• Moldea y tonifica zonas específicas del cuerpo<br>• Favorece la reducción de medidas<br>• Prepara el cuerpo para ocasiones especiales<br>• Te ayuda a lucir y sentirte espectacular",
              duration: "1 hora",
              price: "$320.000"
            },
            {
              name: "Miracle Touch",
              description: "Una experiencia única que combina diferentes técnicas en un solo tratamiento para lograr resultados visibles y transformadores.<br><br><strong>Beneficios:</strong><br>• Ayuda a perder medidas y moldear el cuerpo<br>• Estimula la desintoxicación natural<br>• Rejuvenece y renueva la energía vital<br>• Efectos notables desde la primera sesión",
              duration: "1 hora",
              price: "$320.000"
            },
            {
              name: "Miracle Face",
              description: "Tratamiento facial exclusivo para resaltar la belleza natural y devolver vitalidad a la piel.<br><br><strong>Beneficios:</strong><br>• Redefinición y tonificación de los rasgos faciales<br>• Revitalización de la piel, dejándola luminosa y fresca<br>• Estimula la juventud y firmeza natural del rostro",
              duration: "40 minutos",
              price: "$240.000"
            }
          ]
        },
        7: { // Eventos Especiales
          title: "Spa Fechas Especiales - Paquetes",
          packages: [
            {
              name: "Feliz 15 Años con tus Mejores Amigas",
              description: "Celebra este hito especial con nuestro paquete Real de Quinceañera.<br><br><strong>Incluye:</strong><br>• Un lujoso tratamiento facial que ilumina y realza la belleza natural, seguido de un masaje suave y relajante para destensar cada músculo.<br>• Accede a nuestro jacuzzi aromático para compartir junto a tus amigas, creando un ambiente de relajación y diversión.<br>• Termina la experiencia con un brindis de mocktail, perfecto para una celebración sin igual.<br>• Comienza con una cálida bienvenida en el spa, ofreciendo una bebida de bienvenida sin alcohol para refrescarse.<br>• Una sesión en el sauna para desintoxicar y preparar el cuerpo para una experiencia de bienestar.<br>• Disfruta del turco con vapor infundido de esencias de hierbas que relajan y refrescan los sentidos.<br>• Sigue con un masaje corporal relajante que alivia las tensiones y reconforta la piel. Se utilizan aceites esenciales aromáticos para una experiencia sensorial completa.<br>• Un tratamiento facial que incluye limpieza, exfoliación y una mascarilla hidratante, dejando la piel de la quinceañera y sus invitadas radiante y luminosa para la celebración.<br>• Relájate en el jacuzzi, donde las burbujas y luces LED crean un ambiente mágico perfecto para reflexionar y disfrutar del momento.<br>• Deléitate con un snack saludable que incluya una selección de frutas frescas y un yogurt delicioso.<br>• Celebra con una mini torta personalizada para la ocasión, ideal para compartir con sus mejores amigas.<br>• Finaliza la experiencia con un obsequio especial.<br><br>Este paquete está diseñado para ofrecer un equilibrio perfecto de relajación, celebración y momentos memorables para la quinceañera y sus amigas.<br><br><strong>Detalles del paquete:</strong><br>• Número de personas: mínimo 4 – máximo 6",
              duration: "3 horas 30 minutos",
              price: "Desde $370.000"
            },
            {
              name: "Celebración de Cumpleaños",
              description: "Haz de tu cumpleaños un día inolvidable con nuestros masajes especiales, acceso a las áreas de bienestar y un brindis de cortesía para celebrar tu día especial.<br><br><strong>Incluye:</strong><br>• Copa de bienvenida sin alcohol, un cóctel elegante a base de frutas frescas para dar inicio a la celebración.<br>• Sesión en el sauna, ideal para desintoxicar y preparar cuerpo y mente para una experiencia de bienestar completa.<br>• Masaje corporal personalizado que utiliza mezclas de aceites esenciales. Este tratamiento está diseñado para relajar los músculos y proporcionar una sensación de paz y bienestar.<br>• Vapor herbal en el turco, que ayuda a limpiar y revitalizar la piel, mientras relaja la tensión acumulada.<br>• Jacuzzi para una experiencia tranquila, donde se pueden compartir anécdotas y sonrisas.<br>• Snack nutritivo que incluye una tabla de quesos artesanales y frutas frescas, acompañados de una bebida refrescante.<br>• Torta personalizada diseñada para la ocasión, perfecta para compartir y disfrutar con amigos o seres queridos.<br>• Obsequio para la cumpleañera: una bata de baño de lujo bordada con las iniciales de la cumpleañera, como recuerdo de este día especial.<br><br>Este paquete está diseñado para ofrecer una experiencia de cumpleaños llena de relajación y alegría en un entorno de spa sofisticado.<br><br><strong>Detalles del paquete:</strong><br>• Número de personas: mínimo 4 – máximo 6",
              duration: "2 horas 50 minutos",
              price: "Desde $280.000"
            },
            {
              name: "Despedida de Soltera",
              description: "Celebra los últimos días de soltería con nuestra futura novia y tus amigas.<br><br><strong>Incluye:</strong><br>• Este paquete incluye un masaje grupal relajante, seguido de un facial iluminador para todas las invitadas. Además podrán disfrutar de nuestra zona húmeda con una bebida de bienvenida y una selección de snacks saludables. Perfecto para crear recuerdos inolvidables antes del gran día.<br>• Inicia con una sesión en el baño de vapor infundido con aceites esenciales vigorizantes para desintoxicar y despertar los sentidos.<br>• Seguido de un masaje aromático personalizado usando aceites premium que mejoran la relajación y calman los músculos, centrado en la relajación profunda.<br>• Relájate en el jacuzzi, donde la iluminación ambiental y la música suave crean el ambiente perfecto para descansar y compartir momentos memorables con tus amigas.<br>• Tómate un descanso con una selección de snacks gourmet y bandejas de frutas frescas, acompañadas de una variedad de tés de hierbas o aguas saborizadas.<br>• Concluye con un recuerdo de buen gusto: una exquisita vela perfumada para cada asistente, para recordar el armonioso día.<br>• Y para la futura novia un regalo personalizado, para recordar el día especial y las experiencias compartidas.<br><br>Este paquete está diseñado para ofrecer un equilibrio de relajación y experiencias sensoriales, ideal para una despedida de soltera.<br><br><strong>Detalles del paquete:</strong><br>• Número de personas: mínimo 4 – máximo 6",
              duration: "3 horas 30 minutos",
              price: "Desde $350.000"
            }
          ]
        }
      };

      // Service images mapping
      const serviceImages = {
        1: './Test_Images/Test2/Individual.jpg?v=2', // Spa Individual
        2: './Test_Images/Test2/Couples.jpg',    // Spa para Parejas
        3: './Test_Images/Test2/Friends.jpg?v=2',    // Spa para Amigas
        4: './Test_Images/Test2/Kids.jpg',       // Spa para Niñas
        5: './Test_Images/Test2/Family.jpg',     // Spa para Familias
        6: './Test_Images/Test2/Luxury.jpg',     // Spa Luxury
        7: './Test_Images/Test2/SpecialEvents.jpg' // Eventos Especiales
      };

      // Show packages window
      function showPackages(serviceId) {
        // Prevent body scroll
        document.body.classList.add('window-open');

        const packageWindow = document.getElementById('packageWindow');
        const packageTitle = document.getElementById('packageTitle');
        const packageContent = document.getElementById('packageContent');

        const data = packageData[serviceId];
        const serviceImage = serviceImages[serviceId];
        packageTitle.textContent = data.title;

        // Get package-specific images
        const packageImageMap = {
          // Spa Individual
          'Limpieza Facial Básica': './Test_Images/Catalogo/Spa_Individual/Limpieza-Facial-basica.jpg',
          'Limpieza Facial Completa': './Test_Images/Catalogo/Spa_Individual/Limpieza-Facial-Completa.jpg',
          'Limpieza Facial Elixir de la Juventud': './Test_Images/Catalogo/Spa_Individual/Limpieza-Facial-Elixir-de-la-Juventud.jpg',
          'Limpieza Facial': './Test_Images/Catalogo/Spa_Individual/Limpieza_Facial.jpg',
          'Baño de Luna': './Test_Images/Catalogo/Spa_Individual/Baño_de_luna.jpg',
          'Exfoliación Corporal': './Test_Images/Catalogo/Spa_Individual/Exfoliación_corporal.jpg',
          'Veloterapia': './Test_Images/Catalogo/Spa_Individual/Veloterapia.jpg',
          'Masaje con Aceite Caliente': './Test_Images/Catalogo/Spa_Individual/Masaje_con_Aceite_Caliente.jpg',
          'Masaje con Piedras Calientes': './Test_Images/Catalogo/Spa_Individual/Masaje_con_piedras_calientes.jpg',

          // Spa para Parejas
          'Romántico Oasis para Dos': './Test_Images/Catalogo/Spa_Parejas/Romantic Oasis for Two.jpg',
          'Retiro de Reconciliación para Dos': './Test_Images/Catalogo/Spa_Parejas/Reconciliation Retreat for Two.jpg',
          'Paquete de Aniversario': './Test_Images/Catalogo/Spa_Parejas/Anniversary Bliss Package.jpg',

          // Spa para Amigas
          'Tarde de Chicas': './Test_Images/Catalogo/Spa_para_Amigas/Tarde de Chicas.jpg',
          'Pasabordo Rápido de Desestrés': './Test_Images/Catalogo/Spa_para_Amigas/The Fast De-Stress Day Pass.jpg',
          'Experiencia de Renovación Corporal': './Test_Images/Catalogo/Spa_Individual/Experiencia-de-Renovacion-Corporal.jpg',

          // Spa para Niñas
          'Día de Spa para Adolescentes': './Test_Images/Catalogo/Spa_Individual/Día-de-Spa-para-Adolescentes.jpg',
          'Experiencia de Armonía para Adolescentes': './Test_Images/Catalogo/Spa_para_Niñas/Teen Harmony Spa Experience.jpg',
          'Aventura Spa para Preadolescentes': './Test_Images/Catalogo/Spa_para_Niñas/Tween Spa Adventure.jpg',

          // Spa para Familias
          'Día de Spa para Mamá e Hija': './Test_Images/Catalogo/Spa_para_Familiar/Mother & Daughter Spa Day.jpg',
          'Día de Spa para Papá e Hijo': './Test_Images/Catalogo/Spa_para_Familiar/Dia-de-spa-papa-e-hijo.jpg',
          'Tarde en Familia': './Test_Images/Catalogo/Spa_para_Familiar/Family Day Relaxation and Fun.jpg',

          // Spa Luxury
          'Masaje de Relajación': './Test_Images/Catalogo/Spa_Luxury/Relaxation Massage.jpg',
          'Drenaje Linfático': './Test_Images/Catalogo/Spa_Luxury/Lymphatic Drainage.jpg',
          'Masaje de Modelación': './Test_Images/Catalogo/Spa_Luxury/Body Sculpting Session.jpg',
          'Miracle Touch': './Test_Images/Catalogo/Spa_Luxury/Miracle Touch Integrated Therapy.jpg',
          'Miracle Face': './Test_Images/Catalogo/Spa_Luxury/Miracle Face Treatment.jpg',

          // Eventos Especiales
          'Feliz 15 Años con tus Mejores Amigas': './Test_Images/Catalogo/Spa_fechas_Especiales/Quinceañera Friends Celebration.jpg',
          'Celebración de Cumpleaños': './Test_Images/Catalogo/Spa_fechas_Especiales/Birthday Spa Celebration.jpg',
          'Despedida de Soltera': './Test_Images/Catalogo/Spa_fechas_Especiales/Bridal Shower Spa Experience.jpg'
        };

        let packagesHTML = '';
        data.packages.forEach(pkg => {
          // Function to extract lowest price and format it
          function getLowestPrice(priceString) {
            if (priceString.includes('→') || priceString.includes('<br>')) {
              // Extract all prices - match patterns like $230.000 or $1.150.000
              const priceMatches = priceString.match(/\$[\d\.]+/g);
              if (priceMatches && priceMatches.length > 0) {
                // Convert prices to numbers for comparison
                const numericPrices = priceMatches.map(price => {
                  // Remove $ and all dots (Colombian format uses dots as thousands separator)
                  const cleanPrice = price.replace('$', '').replace(/\./g, '');
                  return parseInt(cleanPrice);
                });

                // Find the minimum value
                const minPrice = Math.min(...numericPrices);

                // Find the original formatted price that matches the minimum
                for (let i = 0; i < numericPrices.length; i++) {
                  if (numericPrices[i] === minPrice) {
                    return `A partir de: ${priceMatches[i]}`;
                  }
                }
              }
            }
            return priceString.startsWith('$') ? priceString : `Precio: ${priceString}`;
          }

          const displayPrice = getLowestPrice(pkg.price);
          let priceHTML = `<span>${displayPrice}</span>`;

          // Modern glassmorphism design for Spa Individual (serviceId === 1)
          if (serviceId === 1) {
            // Extract includes/benefits from description
            let mainDescription = pkg.description;
            let includesContent = '';

            // Check if description contains includes or benefits sections
            if (pkg.description.includes('<strong>Incluye:</strong>') || pkg.description.includes('<strong>Beneficios:</strong>')) {
              // Find where the Incluye/Beneficios section starts
              const includeIndex = pkg.description.indexOf('<strong>Incluye:</strong>');
              const benefitIndex = pkg.description.indexOf('<strong>Beneficios:</strong>');
              const splitIndex = includeIndex !== -1 ? includeIndex : benefitIndex;

              // Split the description
              mainDescription = pkg.description.substring(0, splitIndex).trim();
              includesContent = pkg.description.substring(splitIndex);

              // Add pricing information at the end only if price exists
              if (pkg.price && pkg.price.trim() !== '') {
                if (pkg.price.includes('→') || pkg.price.includes('<br>')) {
                  includesContent += `<br><br><strong>Precios:</strong><br>${pkg.price}`;
                } else {
                  includesContent += `<br><br><strong>Precio:</strong> ${pkg.price}`;
                }
              }
            } else {
              // If no includes/benefits found, create a basic includes section with pricing
              includesContent = `<strong>Información del paquete:</strong><br>${mainDescription.split('.').slice(-2).join('.').trim()}<br><br><strong>Precio:</strong> ${pkg.price}`;
              mainDescription = mainDescription.split('.').slice(0, -2).join('.').trim() + '.';
            }

            // Ensure includesContent is never empty
            if (!includesContent || includesContent.trim() === '') {
              includesContent = `<strong>Detalles del paquete:</strong><br>Duración: ${pkg.duration}<br><br><strong>Precio:</strong> ${pkg.price}`;
            }

            const packageId = `package-${serviceId}-${pkg.name.replace(/[\s\/]+/g, '-').replace(/[^\w\-]/g, '')}`;

            const packageImage = packageImageMap[pkg.name] || serviceImage;

            packagesHTML += `
              <div class="modern-card">
                <div class="card-background" style="background-image: url('${packageImage}');"></div>
                <div class="card-content">
                  <div class="card-header">
                    <h2 class="card-title">${pkg.name}</h2>
                    <p class="card-description">${mainDescription}</p>
                  </div>

                  <div class="card-info">
                    <div class="info-item">
                      <svg class="info-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="10"/>
                        <polyline points="12,6 12,12 16,14"/>
                      </svg>
                      <span>${pkg.duration}</span>
                    </div>
                    <div class="info-item">
                      <svg class="info-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="12" y1="1" x2="12" y2="23"/>
                        <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/>
                      </svg>
                      <span>${displayPrice}</span>
                    </div>
                    <div class="info-item">
                      <svg class="info-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21 12V7H5a2 2 0 0 1 0-4h14v4"/>
                        <path d="M3 5v14a2 2 0 0 0 2 2h16v-5"/>
                        <line x1="18" y1="12" x2="18" y2="12.01"/>
                      </svg>
                      <span>Abono: 50%</span>
                    </div>
                  </div>

                  <div class="card-buttons">
                    <button class="btn-book" onclick="bookPackage('${pkg.name}')">Agendar</button>
                    <button class="btn-includes" onclick="toggleIncludes('${packageId}')">Qué incluye</button>
                  </div>

                  <div id="${packageId}" class="includes-content">
                    <p>${includesContent || 'Información disponible próximamente.'}</p>
                  </div>
                </div>
              </div>
            `;
          } else {
            // Extract includes/benefits from description for other services
            let mainDescription = pkg.description;
            let includesContent = '';

            // Check if description contains includes or benefits sections
            if (pkg.description.includes('<strong>Incluye:</strong>') || pkg.description.includes('<strong>Beneficios:</strong>')) {
              // Find where the Incluye/Beneficios section starts
              const includeIndex = pkg.description.indexOf('<strong>Incluye:</strong>');
              const benefitIndex = pkg.description.indexOf('<strong>Beneficios:</strong>');
              const splitIndex = includeIndex !== -1 ? includeIndex : benefitIndex;

              // Split the description
              mainDescription = pkg.description.substring(0, splitIndex).trim();
              includesContent = pkg.description.substring(splitIndex);

              // Add pricing information at the end only if price exists
              if (pkg.price && pkg.price.trim() !== '') {
                if (pkg.price.includes('→') || pkg.price.includes('<br>')) {
                  includesContent += `<br><br><strong>Precios:</strong><br>${pkg.price}`;
                } else {
                  includesContent += `<br><br><strong>Precio:</strong> ${pkg.price}`;
                }
              }
            } else {
              // If no includes/benefits found, create a basic includes section with pricing
              includesContent = `<strong>Información del paquete:</strong><br>${mainDescription.split('.').slice(-2).join('.').trim()}<br><br><strong>Precio:</strong> ${pkg.price}`;
              mainDescription = mainDescription.split('.').slice(0, -2).join('.').trim() + '.';
            }

            // Ensure includesContent is never empty
            if (!includesContent || includesContent.trim() === '') {
              includesContent = `<strong>Detalles del paquete:</strong><br>Duración: ${pkg.duration}<br><br><strong>Precio:</strong> ${pkg.price}`;
            }

            const packageId = `package-${serviceId}-${pkg.name.replace(/[\s\/]+/g, '-').replace(/[^\w\-]/g, '')}`;

            const packageImage = packageImageMap[pkg.name] || serviceImage;

            packagesHTML += `
              <div class="modern-card">
                <div class="card-background" style="background-image: url('${packageImage}');"></div>
                <div class="card-content">
                  <div class="card-header">
                    <h2 class="card-title">${pkg.name}</h2>
                    <p class="card-description">${mainDescription}</p>
                  </div>

                  <div class="card-info">
                    <div class="info-item">
                      <svg class="info-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="10"/>
                        <polyline points="12,6 12,12 16,14"/>
                      </svg>
                      <span>${pkg.duration}</span>
                    </div>
                    <div class="info-item">
                      <svg class="info-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="12" y1="1" x2="12" y2="23"/>
                        <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/>
                      </svg>
                      <span>${displayPrice}</span>
                    </div>
                    <div class="info-item">
                      <svg class="info-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21 12V7H5a2 2 0 0 1 0-4h14v4"/>
                        <path d="M3 5v14a2 2 0 0 0 2 2h16v-5"/>
                        <line x1="18" y1="12" x2="18" y2="12.01"/>
                      </svg>
                      <span>Abono: 50%</span>
                    </div>
                  </div>

                  <div class="card-buttons">
                    <button class="btn-book" onclick="bookPackage('${pkg.name}')">Agendar</button>
                    <button class="btn-includes" onclick="toggleIncludes('${packageId}')">Qué incluye</button>
                  </div>

                  <div id="${packageId}" class="includes-content">
                    <p>${includesContent || 'Información disponible próximamente.'}</p>
                  </div>
                </div>
              </div>
            `;
          }
        });

        packageContent.innerHTML = packagesHTML;
        packageWindow.classList.add('active');
      }

      // Book package function - redirects to custom booking calendar
      function bookPackage(packageName) {
        // Encode the service name for URL
        const encodedService = encodeURIComponent(packageName);

        // Strong cache buster with timestamp + random
        const timestamp = new Date().getTime();
        const random = Math.random().toString(36).substring(7);

        // LOCAL DEVELOPMENT - Use localhost
        // const bookingUrl = `http://localhost:3002?service=${encodedService}&v=${timestamp}&r=${random}`;

        // PRODUCTION - Vercel deployment (public URL) with STRONG cache buster
        const bookingUrl = `https://miosotys-spa.vercel.app?service=${encodedService}&v=${timestamp}&r=${random}&nocache=1`;

        showBookingCalendar(packageName, bookingUrl);
      }

      // Show booking calendar in sliding window with custom calendar
      function showBookingCalendar(serviceName, bookingUrl) {
        // Prevent body scroll
        document.body.classList.add('window-open');

        // First hide the packages window if it's open
        const packageWindow = document.getElementById('packageWindow');
        packageWindow.classList.remove('active');

        // Get the window elements
        const calendlyWindow = document.getElementById('calendlyWindow');
        const windowTitle = calendlyWindow.querySelector('.package-window-header h2');
        const calendlyContent = document.getElementById('calendlyContent');

        // Update window title dynamically
        windowTitle.textContent = `Agendar ${serviceName}`;

        // Clear any existing content
        calendlyContent.innerHTML = '';

        // Create iframe with custom booking calendar
        calendlyContent.innerHTML = `
          <iframe
            src="${bookingUrl}"
            style="width: 100%; height: 100%; border: none; min-height: 600px;"
            frameborder="0"
            allowfullscreen>
          </iframe>
        `;

        // Show the calendar window with slide animation
        calendlyWindow.classList.add('active');
      }

      // Hide Calendly window
      function hideCalendly() {
        const calendlyWindow = document.getElementById('calendlyWindow');
        calendlyWindow.classList.remove('active');

        // Re-enable body scroll
        document.body.classList.remove('window-open');
      }

      // Toggle includes/benefits section
      function toggleIncludes(packageId) {
        try {
          const content = document.getElementById(packageId);
          if (content) {
            content.classList.toggle('active');
          } else {
            console.error('Element not found:', packageId);
          }
        } catch (error) {
          console.error('Error toggling includes:', error);
        }
      }

      // Hide packages window
      function hidePackages() {
        const packageWindow = document.getElementById('packageWindow');
        packageWindow.classList.remove('active');

        // Re-enable body scroll only if calendar window is also closed
        const calendlyWindow = document.getElementById('calendlyWindow');
        if (!calendlyWindow.classList.contains('active')) {
          document.body.classList.remove('window-open');
        }
      }

      // Register ScrollTrigger plugin
      gsap.registerPlugin(ScrollTrigger);

      // Animate text like in info.html
      function animateText(element) {
        if (!element) return;
        
        const text = element.textContent;
        const words = text.split(' ');
        element.innerHTML = words.map(word => 
          `<span class="word" style="display: inline-block; opacity: 0; transform: translateY(30px);">${word}</span>`
        ).join(' ');
        
        // Animate words
        gsap.to(element.querySelectorAll('.word'), {
          opacity: 1,
          y: 0,
          duration: 0.8,
          stagger: 0.03,
          ease: "power2.out"
        });
      }

      // Prepare text for smooth typewriter animation (split into words)
      function prepareText(element) {
        if (!element) return;
        
        const text = element.textContent;
        const words = text.split(' ');
        element.innerHTML = words.map(word => 
          `<span class="word" style="opacity: 0; display: inline-block;">${word}</span>`
        ).join(' ');
      }

      // Sticky cards animation
      document.addEventListener('DOMContentLoaded', () => {
        // Handle background music continuity
        const backgroundMusic = document.getElementById('backgroundMusic');
        const musicPreference = localStorage.getItem('musicPreference');
        const savedTime = localStorage.getItem('musicTime');

        if (musicPreference === 'true' && backgroundMusic) {
          backgroundMusic.volume = 0.5;
          if (savedTime) {
            backgroundMusic.currentTime = parseFloat(savedTime);
          }
          backgroundMusic.play().catch(e => {
            console.log('Audio autoplay failed:', e);
          });

          // Save playback position every second
          setInterval(() => {
            if (!backgroundMusic.paused) {
              localStorage.setItem('musicTime', backgroundMusic.currentTime);
            }
          }, 1000);
        }

        const stickyCards = document.querySelectorAll('.sticky-card');

        // Store original positions of each card BEFORE ScrollTrigger pins them
        cardPositions = [];
        stickyCards.forEach((card) => {
          cardPositions.push(card.offsetTop);
        });

        stickyCards.forEach((card, index) => {
          // Prepare text for animation on each card
          const description = card.querySelector('.sticky-card-copy-description p');
          const title = card.querySelector('.sticky-card-header');
          const subtitle = card.querySelector('.sticky-card-copy-title p');
          
          // Special handling for first card (intro services card)
          if (index === 0) {
            const button = card.querySelector('.sticky-card-button button');
            const scrollArrow = card.querySelector('.scroll-arrow');
            const descriptionContainer = card.querySelector('.sticky-card-copy-description');
            const serviceParagraphs = descriptionContainer ? descriptionContainer.querySelectorAll('p') : [];

            // Set initial hidden state
            if (title) gsap.set(title, { opacity: 0, y: 30 });
            if (subtitle) gsap.set(subtitle, { opacity: 0, y: 20 });
            if (button) gsap.set(button, { opacity: 1, y: 0 }); // Button always visible, no animation
            if (scrollArrow) gsap.set(scrollArrow, { opacity: 0, y: 10 });
            serviceParagraphs.forEach(p => gsap.set(p, { opacity: 0, y: 20 }));

            // Animate first card on load (fast and smooth)
            setTimeout(() => {
              // Animate title
              if (title) {
                gsap.to(title, {
                  opacity: 1,
                  y: 0,
                  duration: 0.5,
                  ease: "power2.out",
                  delay: 0.2
                });
              }

              // Animate subtitle (if exists)
              if (subtitle) {
                gsap.to(subtitle, {
                  opacity: 1,
                  y: 0,
                  duration: 0.5,
                  ease: "power2.out",
                  delay: 0.4
                });
              }

              // Animate service paragraphs one by one (smooth stagger)
              if (serviceParagraphs.length > 0) {
                gsap.to(serviceParagraphs, {
                  opacity: 1,
                  y: 0,
                  duration: 0.3,
                  stagger: 0.08,
                  ease: "power2.out",
                  delay: 0.4
                });
              }

              // Button already visible, no animation needed

              // Animate scroll arrow
              if (scrollArrow) {
                gsap.to(scrollArrow, {
                  opacity: 1,
                  y: 0,
                  duration: 0.5,
                  ease: "power2.out",
                  delay: 1.2
                });
              }
            }, 500);
          } else {
            // Prepare text elements with initial hidden state for other cards
            const button = card.querySelector('.sticky-card-button button');
            const scrollArrows = card.querySelectorAll('.scroll-arrow');
            // DON'T prepareText - keep text intact like Eventos Especiales
            // if (description) prepareText(description);
            if (title) gsap.set(title, { opacity: 0, y: 30 });
            if (subtitle) gsap.set(subtitle, { opacity: 0, y: 20 });
            if (description) gsap.set(description, { opacity: 0, y: 20 });
            if (button) gsap.set(button, { opacity: 0, y: 20 });
            scrollArrows.forEach(arrow => gsap.set(arrow, { opacity: 0, y: 10 }));
          }
          
          // Pin all cards except the last one
          if (index < stickyCards.length - 1) {
            ScrollTrigger.create({
              trigger: card,
              start: "top top",
              endTrigger: stickyCards[stickyCards.length - 1],
              end: "top top",
              pin: true,
              pinSpacing: false,
            });
          }

          // Scale and rotate animation
          if (index < stickyCards.length - 1) {
            ScrollTrigger.create({
              trigger: stickyCards[index + 1],
              start: "top bottom",
              end: "top top",
              onUpdate: (self) => {
                const progress = self.progress;
                const scale = 1 - progress * 0.05;
                const afterOpacity = progress * 0.6;

                gsap.set(card, {
                  scale: scale,
                  rotation: 0,
                  "--after-opacity": afterOpacity,
                });
              },
            });
          }

          // Smooth text animation that reacts to scroll progress (much slower, skip first card)
          if (index > 0) {
            const button = card.querySelector('.sticky-card-button button');
            const scrollArrows = card.querySelectorAll('.scroll-arrow');

            ScrollTrigger.create({
              trigger: card,
              start: "top bottom",
              end: "bottom top",
              onUpdate: (self) => {
                const progress = self.progress;

                // Animate title based on scroll progress (much faster)
                if (title) {
                  const titleProgress = Math.max(0, Math.min(1, (progress - 0.1) / 0.3));
                  gsap.set(title, {
                    opacity: titleProgress,
                    y: 30 - (titleProgress * 30)
                  });
                }

                // Animate subtitle based on scroll progress (much faster)
                if (subtitle) {
                  const subtitleProgress = Math.max(0, Math.min(1, (progress - 0.2) / 0.3));
                  gsap.set(subtitle, {
                    opacity: subtitleProgress,
                    y: 20 - (subtitleProgress * 20)
                  });
                }

                // Animate description as a whole paragraph (like Eventos Especiales)
                if (description) {
                  const descProgress = Math.max(0, Math.min(1, (progress - 0.3) / 0.3));
                  gsap.set(description, {
                    opacity: descProgress,
                    y: 20 - (descProgress * 20)
                  });
                }

                // Animate button to appear quickly after text starts
                if (button) {
                  // Button appears much earlier (when text is 30% visible) and stays visible
                  const buttonProgress = Math.max(0, Math.min(1, (progress - 0.35) / 0.15));

                  gsap.set(button, {
                    opacity: buttonProgress,
                    y: 20 - (buttonProgress * 20)
                  });
                }

                // Animate scroll arrows to appear after button
                if (scrollArrows.length > 0) {
                  const arrowProgress = Math.max(0, Math.min(1, (progress - 0.4) / 0.15));

                  scrollArrows.forEach(arrow => {
                    gsap.set(arrow, {
                      opacity: arrowProgress,
                      y: 10 - (arrowProgress * 10)
                    });
                  });
                }
              }
            });
          }
        });

        // Initial animation for cards
        gsap.set(stickyCards, { opacity: 0, y: 50 });
        gsap.to(stickyCards, {
          opacity: 1,
          y: 0,
          duration: 0.8,
          stagger: 0.1,
          ease: "power2.out",
          delay: 0.3
        });

      });
    </script>

    <!-- Custom Cursor Script -->
    <script>
      // Smooth custom cursor with GSAP
      const cursor = document.getElementById('customCursor');
      let mouseX = 0;
      let mouseY = 0;
      let cursorX = 0;
      let cursorY = 0;

      // Track mouse position
      document.addEventListener('mousemove', (e) => {
        mouseX = e.clientX;
        mouseY = e.clientY;
      });

      // Smooth cursor animation with lerp (linear interpolation)
      gsap.ticker.add(() => {
        // Lerp factor - lower = smoother/slower, higher = faster
        const speed = 0.15;

        cursorX += (mouseX - cursorX) * speed;
        cursorY += (mouseY - cursorY) * speed;

        gsap.set(cursor, {
          x: cursorX,
          y: cursorY
        });
      });
    </script>
  </body>
</html>
